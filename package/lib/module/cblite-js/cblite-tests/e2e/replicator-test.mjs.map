{"version":3,"names":["TestCase","BasicAuthenticator","MutableDocument","Replicator","ReplicatorActivityLevel","ReplicatorConfiguration","ReplicatorType","URLEndpoint","expect","ReplicatorTests","constructor","testReplicatorConfigDefaultValues","target","config","addCollection","collection","getCollections","length","to","be","equal","getReplicatorType","PUSH_AND_PULL","getAcceptOnlySelfSignedCerts","defaultSelfSignedCertificateOnly","getAllowReplicatingInBackground","defaultAllowReplicatingInBackground","getAcceptParentDomainCookies","defaultAcceptParentDomainCookies","getAutoPurgeEnabled","defaultEnableAutoPurge","getContinuous","defaultContinuous","getHeartbeat","defaultHeartbeat","getMaxAttempts","defaultMaxAttemptsSingleShot","getMaxAttemptWaitTime","defaultMaxAttemptsWaitTime","getHeaders","undefined","getAuthenticator","testName","success","message","data","error","testIsDocumentPending","auth","defaultCollection","setAuthenticator","docId","doc","setString","save","replicator","create","isDocumentPendingResults","isDocumentPending","count","greaterThan","isPending","true","testDocumentsPending","docId2","doc2","pendingDocumentsResults","getPendingDocumentIds","pendingDocumentsCount","pendingDocumentIds","include","testReplicationStatusChangeListenerEvent","isError","didGetChangeStatus","token","addChangeListener","change","status","getError","getActivityLevel","IDLE","start","sleep","removeChangeListener","stop","false","testDocumentChangeListenerEvent","didGetDocumentUpdate","addDocumentChangeListener","isPush","documents","id","flags","testEmptyPush","testStartWithCheckpoint","testStartWithResetCheckpointContinuous","testRemoveDocumentReplicationListener","testPushAndForget","testRemoveChangeListener","testAddRemoveChangeListenerAfterReplicatorStart","testCopyingReplicatorConfiguration","testReplicationConfigSetterMethods"],"sourceRoot":"../../../../../src","sources":["cblite-js/cblite-tests/e2e/replicator-test.ts"],"mappings":"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","ignoreList":[]}
