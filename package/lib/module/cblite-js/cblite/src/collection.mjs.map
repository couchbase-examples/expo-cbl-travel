{"version":3,"names":["Scope","EngineLocator","Document","Collection","_engine","getEngine","key","_didStartListener","constructor","name","scope","database","_documentChangeListener","Map","_didStartDocumentListener","fullName","addChangeListener","listener","_changeListener","token","uuid","collection_AddChangeListener","getName","scopeName","collectionName","changeListenerToken","data","err","notifyChangeListeners","Error","addDocumentChangeListener","documentId","has","collection_AddDocumentChangeListener","notifyDocumentChangeListeners","set","count","collection_GetCount","createIndex","indexName","index","collection_CreateIndex","toJson","deleteDocument","document","concurrencyControl","id","getId","collection_DeleteDocument","docId","deleteIndex","collection_DeleteIndex","docJson","collection_GetDocument","_id","_data","sequence","_sequence","retId","Promise","resolve","undefined","getDocumentExpiration","date","collection_GetDocumentExpiration","indexes","collection_GetIndexes","changeListener","get","collection","purge","collection_PurgeDocument","purgeById","removeChangeListener","collection_RemoveChangeListener","removeDocumentChangeListener","collection_RemoveDocumentChangeListener","save","ret","collection_Save","toDictionary","setId","setDocumentExpiration","expiration","collection_SetDocumentExpiration","databaseName","getUUID"],"sourceRoot":"../../../../../src","sources":["cblite-js/cblite/src/collection.ts"],"mappings":"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","ignoreList":[]}
