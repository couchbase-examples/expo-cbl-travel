{"version":3,"names":["_testCase","require","_index","_chai","ReplicatorTests","TestCase","constructor","testReplicatorConfigDefaultValues","target","URLEndpoint","config","ReplicatorConfiguration","addCollection","collection","expect","getCollections","length","to","be","equal","getReplicatorType","ReplicatorType","PUSH_AND_PULL","getAcceptOnlySelfSignedCerts","defaultSelfSignedCertificateOnly","getAllowReplicatingInBackground","defaultAllowReplicatingInBackground","getAcceptParentDomainCookies","defaultAcceptParentDomainCookies","getAutoPurgeEnabled","defaultEnableAutoPurge","getContinuous","defaultContinuous","getHeartbeat","defaultHeartbeat","getMaxAttempts","defaultMaxAttemptsSingleShot","getMaxAttemptWaitTime","defaultMaxAttemptsWaitTime","getHeaders","undefined","getAuthenticator","testName","success","message","data","error","testIsDocumentPending","auth","BasicAuthenticator","defaultCollection","setAuthenticator","docId","doc","MutableDocument","setString","save","replicator","Replicator","create","isDocumentPendingResults","isDocumentPending","count","greaterThan","isPending","true","testDocumentsPending","docId2","doc2","pendingDocumentsResults","getPendingDocumentIds","pendingDocumentsCount","pendingDocumentIds","include","testReplicationStatusChangeListenerEvent","isError","didGetChangeStatus","token","addChangeListener","change","status","getError","getActivityLevel","ReplicatorActivityLevel","IDLE","start","sleep","removeChangeListener","stop","false","testDocumentChangeListenerEvent","didGetDocumentUpdate","addDocumentChangeListener","isPush","documents","id","flags","testEmptyPush","testStartWithCheckpoint","testStartWithResetCheckpointContinuous","testRemoveDocumentReplicationListener","testPushAndForget","testRemoveChangeListener","testAddRemoveChangeListenerAfterReplicatorStart","testCopyingReplicatorConfiguration","testReplicationConfigSetterMethods","exports"],"sourceRoot":"../../../../../src","sources":["cblite-js/cblite-tests/e2e/replicator-test.ts"],"mappings":"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","ignoreList":[]}
