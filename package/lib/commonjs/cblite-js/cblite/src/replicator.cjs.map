{"version":3,"names":["_engineLocator","require","_replicatorStatus","_replicatorProgress","_documentReplication","Replicator","_replicatorId","undefined","_engine","EngineLocator","getEngine","key","_didStartStatusChangeListener","constructor","replicatorId","config","_config","_documentChangeListener","Map","addChangeListener","listener","_statusChangeListener","token","getUUID","replicator_AddChangeListener","changeListenerToken","data","err","notifyStatusChange","Error","addDocumentChangeListener","set","replicator_AddDocumentChangeListener","isDocumentReplicationRepresentation","notifyDocumentChange","create","getCollections","length","engine","configJson","toJson","ret","replicator_Create","replicator","cleanup","replicator_Cleanup","getId","getConfiguration","getStatus","replicator_GetStatus","getPendingDocumentIds","collection","collections","includes","replicator_GetPendingDocumentIds","collectionName","name","scopeName","scope","database","getName","isDocumentPending","documentId","replicator_IsDocumentPending","documents","map","doc","id","flags","error","documentReplication","isPush","get","status","activityLevel","Number","replicatorProgress","ReplicatorProgress","progress","completed","total","message","ReplicatorStatus","statusChange","removeChangeListener","replicator_RemoveChangeListener","start","reset","replicator_ResetCheckpoint","replicator_Start","stop","replicator_Stop","exports"],"sourceRoot":"../../../../../src","sources":["cblite-js/cblite/src/replicator.ts"],"mappings":"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","ignoreList":[]}
