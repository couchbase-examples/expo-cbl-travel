{"version":3,"names":["_scope","require","_engineLocator","_document","Collection","_engine","EngineLocator","getEngine","key","_didStartListener","constructor","name","scope","database","Scope","_documentChangeListener","Map","_didStartDocumentListener","fullName","addChangeListener","listener","_changeListener","token","uuid","collection_AddChangeListener","getName","scopeName","collectionName","changeListenerToken","data","err","notifyChangeListeners","Error","addDocumentChangeListener","documentId","has","collection_AddDocumentChangeListener","notifyDocumentChangeListeners","set","count","collection_GetCount","createIndex","indexName","index","collection_CreateIndex","toJson","deleteDocument","document","concurrencyControl","id","getId","collection_DeleteDocument","docId","deleteIndex","collection_DeleteIndex","docJson","collection_GetDocument","_id","_data","sequence","_sequence","retId","Promise","resolve","Document","undefined","getDocumentExpiration","date","collection_GetDocumentExpiration","indexes","collection_GetIndexes","changeListener","get","collection","purge","collection_PurgeDocument","purgeById","removeChangeListener","collection_RemoveChangeListener","removeDocumentChangeListener","collection_RemoveDocumentChangeListener","save","ret","collection_Save","toDictionary","setId","setDocumentExpiration","expiration","collection_SetDocumentExpiration","databaseName","getUUID","exports"],"sourceRoot":"../../../../../src","sources":["cblite-js/cblite/src/collection.ts"],"mappings":"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","ignoreList":[]}
